{% extends 'app_transportador/base_transportador.html' %}

{% block content %}
<div class="card border-0 shadow-sm mt-4">
  <div class="card-header bg-white border-0 pb-0">
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="card-title mb-0">
        Pedidos - 
        <span class="badge rounded-pill py-2 px-3 
          {% if status_filtro == 'NOVO' %}bg-info
          {% elif status_filtro == 'PENDENTE' %}bg-danger
          {% elif status_filtro == 'ATENDIDO' %}bg-warning text-dark
          {% elif status_filtro == 'FINALIZADO' %}bg-success
          {% elif status_filtro == 'CANCELADO' %}bg-dark text-white      
          {% else %}bg-secondary{% endif %}">
          {{ status_filtro|default:"TODOS" }}
        </span>
      </h5>
    </div>
  </div>
  
  <div class="card-body p-0">
    <div class="table-responsive-lg">
      <table class="table table-hover mb-0">
        <thead class="bg-light">
          <tr>
            <th scope="col" class="ps-4">Nº Pedido</th>
            <th scope="col">Produto</th>
            <th scope="col">Data</th>
            <th scope="col">Ações</th>
          </tr>
        </thead>
        <tbody>
          {% for pedido in pedidos %}
          <tr class="align-middle">
            <td class="ps-4 fw-medium">{{ pedido.numero_pedido }}</td>
            <td>{{ pedido.produto.get_nome_display|truncatechars:25 }}</td>
            <td>{{ pedido.criado|date:"d/m/Y H:i" }}</td>
            <td>
              <div class="btn-group" role="group">
                <a href="{% url 'transportador:detalhes_pedido' pedido.id %}" class="btn btn-outline-primary btn rounded-pill border-2">
                    <i class="fas fa-search me-2"></i> Visualizar
                </a>
              </div>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center py-5">
              <div class="alert alert-light border">
                <i class="fas fa-inbox me-2"></i>
                Nenhum pedido encontrado
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
  .card-header .badge {
    font-size: 0.9rem;
    font-weight: 500;
    vertical-align: middle;
  }
  
  .table-responsive-lg {
    min-height: 300px;
  }
  
  .table thead th {
    font-weight: 500;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: #6c757d;
    border-top: none;
    padding-top: 1rem;
    padding-bottom: 1rem;
  }
  
  .table tbody tr {
    transition: all 0.2s;
  }
  
  .table tbody tr:hover {
    background-color: rgba(0, 123, 255, 0.03);
  }
  .btn {
  transition: all 0.3s ease;
  font-weight: 500;
}

/* Efeito especial para o botão gradiente */
.btn-gradient:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(13, 110, 253, 0.25);
}

/* Efeito para o botão outline */
.btn-outline-primary:hover {
  background-color: #0d6efd;
  color: white !important;
}
</style>
{% endblock %}